<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSAMCA - Users Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e5799 0%, #207cca 51%, #2989d8 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .logo-placeholder {
            width: 180px;
            height: 70px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            color: #1e5799;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .search-container {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 30px;
            padding: 8px 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            flex: 1;
            max-width: 500px;
            min-width: 300px;
        }
        
        .search-icon {
            color: #1e5799;
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .search-input {
            border: none;
            outline: none;
            padding: 10px 0;
            font-size: 1rem;
            width: 100%;
            background: transparent;
        }
        
        .search-input::placeholder {
            color: #999;
        }
        
        .clear-search {
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 10px;
            display: none;
        }
        
        .clear-search:hover {
            color: #1e5799;
        }
        
        .header-title {
            color: white;
            text-align: center;
            flex: 1;
            min-width: 200px;
        }
        
        .page-title {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .page-title h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .page-title p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .stats-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1e5799;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: 600;
        }
        
        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .user-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .user-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .card-header {
            background: linear-gradient(135deg, #1e5799 0%, #207cca 100%);
            padding: 30px 20px 60px;
            text-align: center;
            position: relative;
        }
        
        .photo-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid white;
            margin: 0 auto;
            position: relative;
            top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .photo-container:hover {
            transform: scale(1.05);
        }
        
        .user-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .photo-placeholder {
            color: #999;
            font-size: 2.5rem;
        }
        
        .card-body {
            padding: 50px 25px 25px;
            text-align: center;
        }
        
        .user-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #1e5799;
            margin-bottom: 5px;
            cursor: pointer;
            transition: color 0.3s ease;
            display: inline-block;
            text-decoration: none;
        }
        
        .user-name:hover {
            color: #154276;
            text-decoration: underline;
        }
        
        .user-details {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .user-enterprise {
            display: inline-block;
            background: #e8f4ff;
            color: #1e5799;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .user-status {
            display: inline-flex;
            align-items: center;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-approved {
            background: #d1edff;
            color: #0c5460;
        }
        
        .status-rejected {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-under_review {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-not_submitted {
            background: #f8f9fa;
            color: #6c757d;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-pending .status-dot {
            background: #ffc107;
        }
        
        .status-approved .status-dot {
            background: #17a2b8;
        }
        
        .status-rejected .status-dot {
            background: #dc3545;
        }
        
        .status-under_review .status-dot {
            background: #ffc107;
        }
        
        .status-not_submitted .status-dot {
            background: #6c757d;
        }
        
        .user-contact {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.9rem;
            margin-top: 15px;
        }
        
        .user-contact i {
            margin-right: 8px;
            color: #1e5799;
        }
        
        .empowerment-date {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #888;
        }
        
        .view-profile-btn {
            display: inline-block;
            background: #1e5799;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-decoration: none;
            margin-top: 10px;
            transition: all 0.3s ease;
        }
        
        .view-profile-btn:hover {
            background: #154276;
            transform: translateY(-2px);
        }
        
        .filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .filter-btn.active {
            background: #1e5799;
            color: white;
        }
        
        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        .no-users {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            margin-top: 50px;
            grid-column: 1 / -1;
        }
        
        .search-results-info {
            text-align: center;
            color: white;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            .users-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
            
            .page-title h1 {
                font-size: 2rem;
            }
            
            header {
                flex-direction: column;
                gap: 20px;
            }
            
            .search-container {
                max-width: 100%;
                min-width: auto;
            }
            
            .header-title {
                order: -1;
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .users-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                flex-direction: column;
                align-items: center;
            }
            
            .stat-card {
                width: 100%;
                max-width: 300px;
            }
            
            .filters {
                flex-direction: column;
                align-items: center;
            }
            
            .filter-btn {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-placeholder">
                OSAMCA LOGO
            </div>
            
            <div class="search-container">
                <div class="search-icon">üîç</div>
                <input type="text" class="search-input" id="searchInput" placeholder="Search by name or phone number...">
                <button class="clear-search" id="clearSearch">‚úï</button>
            </div>
            
            <div class="header-title">
                <h1 style="margin: 0; font-size: 1.8rem;">Users Dashboard</h1>
            </div>
        </header>
        
        <div class="page-title">
            <h1>Registered Users</h1>
            <p>View all applicants and their application status</p>
        </div>
        
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="pendingApps">0</div>
                <div class="stat-label">Pending Applications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="approvedApps">0</div>
                <div class="stat-label">Approved Applications</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="empoweredUsers">0</div>
                <div class="stat-label">Empowered Users</div>
            </div>
        </div>
        
        <div class="filters">
            <button class="filter-btn active" data-filter="all">All Users</button>
            <button class="filter-btn" data-filter="pending">Pending</button>
            <button class="filter-btn" data-filter="approved">Approved</button>
            <button class="filter-btn" data-filter="under_review">Under Review</button>
            <button class="filter-btn" data-filter="rejected">Rejected</button>
        </div>
        
        <div class="search-results-info" id="searchResultsInfo"></div>
        
        <div class="users-grid" id="usersGrid">
            <!-- Users will be dynamically inserted here -->
        </div>
    </div>

    <script>
        // Sample user data (in a real app, this would come from your database)
        const sampleUsers = [
            {
                id: 1,
                personal_info: {
                    last_name: "Adeyemi",
                    middle_name: "Oluwaseun",
                    first_name: "Tunde",
                    phone_number: "08012345678"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Agriculture"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzAsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "pending",
                    submitted_date: "2024-01-20T14:30:00Z"
                },
                empowerment_date: null
            },
            {
                id: 2,
                personal_info: {
                    last_name: "Balogun",
                    middle_name: "Chinedu",
                    first_name: "Fatima",
                    phone_number: "08087654321"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Agribusiness"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzAsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "approved",
                    submitted_date: "2024-01-22T11:45:00Z"
                },
                empowerment_date: "2024-02-01T00:00:00Z"
            },
            {
                id: 3,
                personal_info: {
                    last_name: "Okoro",
                    middle_name: "Ngozi",
                    first_name: "Chukwuemeka",
                    phone_number: "08055556666"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Trading"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzAsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "under_review",
                    submitted_date: "2024-01-25T09:20:00Z"
                },
                empowerment_date: null
            },
            {
                id: 4,
                personal_info: {
                    last_name: "Johnson",
                    middle_name: "Adeola",
                    first_name: "Grace",
                    phone_number: "08033334444"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Manufacturing"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzAsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "rejected",
                    submitted_date: "2024-01-18T14:15:00Z"
                },
                empowerment_date: null
            },
            {
                id: 5,
                personal_info: {
                    last_name: "Williams",
                    middle_name: "Oluwatobi",
                    first_name: "Samuel",
                    phone_number: "08099998888"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Services"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzMsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "approved",
                    submitted_date: "2024-01-28T16:45:00Z"
                },
                empowerment_date: "2024-02-05T00:00:00Z"
            },
            {
                id: 6,
                personal_info: {
                    last_name: "Okafor",
                    middle_name: "Ifeanyi",
                    first_name: "Chioma",
                    phone_number: "08077776666"
                },
                bio_data: {
                    business_info: {
                        enterprise_type: "Agriculture"
                    },
                    facial_photo: {
                        photo_data: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2U4ZThlOCIvPjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI2NjYyIvPjxwYXRoIGQ9Ik0zMCwxNjAgQzcwLDEyMCAxMzAsMTIwIDE3MCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+"
                    }
                },
                application_status: {
                    status: "pending",
                    submitted_date: "2024-01-30T10:20:00Z"
                },
                empowerment_date: null
            }
        ];

        // DOM Elements
        const usersGrid = document.getElementById('usersGrid');
        const totalUsersEl = document.getElementById('totalUsers');
        const pendingAppsEl = document.getElementById('pendingApps');
        const approvedAppsEl = document.getElementById('approvedApps');
        const empoweredUsersEl = document.getElementById('empoweredUsers');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const searchInput = document.getElementById('searchInput');
        const clearSearch = document.getElementById('clearSearch');
        const searchResultsInfo = document.getElementById('searchResultsInfo');

        // Current filter and search state
        let currentFilter = 'all';
        let currentSearchTerm = '';

        // Initialize the dashboard
        function initDashboard() {
            updateStats();
            renderUsers();
            setupEventListeners();
        }

        // Update statistics
        function updateStats() {
            const totalUsers = sampleUsers.length;
            const pendingApps = sampleUsers.filter(user => 
                user.application_status.status === 'pending' || 
                user.application_status.status === 'under_review'
            ).length;
            const approvedApps = sampleUsers.filter(user => 
                user.application_status.status === 'approved'
            ).length;
            const empoweredUsers = sampleUsers.filter(user => 
                user.empowerment_date !== null
            ).length;

            totalUsersEl.textContent = totalUsers;
            pendingAppsEl.textContent = pendingApps;
            approvedAppsEl.textContent = approvedApps;
            empoweredUsersEl.textContent = empoweredUsers;
        }

        // Render users based on current filter and search
        function renderUsers() {
            usersGrid.innerHTML = '';
            
            const filteredUsers = filterAndSearchUsers();
            
            // Update search results info
            updateSearchResultsInfo(filteredUsers.length);
            
            if (filteredUsers.length === 0) {
                usersGrid.innerHTML = `
                    <div class="no-users">
                        <p>No users found with the selected criteria.</p>
                        <p>Try adjusting your search or filter.</p>
                    </div>
                `;
                return;
            }
            
            filteredUsers.forEach(user => {
                const userCard = createUserCard(user);
                usersGrid.appendChild(userCard);
            });
        }

        // Filter and search users
        function filterAndSearchUsers() {
            let filteredUsers = sampleUsers;
            
            // Apply status filter
            if (currentFilter !== 'all') {
                filteredUsers = filteredUsers.filter(user => user.application_status.status === currentFilter);
            }
            
            // Apply search term
            if (currentSearchTerm) {
                const searchTerm = currentSearchTerm.toLowerCase();
                filteredUsers = filteredUsers.filter(user => {
                    const fullName = `${user.personal_info.last_name} ${user.personal_info.first_name} ${user.personal_info.middle_name}`.toLowerCase();
                    const phoneNumber = user.personal_info.phone_number;
                    
                    return fullName.includes(searchTerm) || phoneNumber.includes(searchTerm);
                });
            }
            
            return filteredUsers;
        }

        // Update search results information
        function updateSearchResultsInfo(resultCount) {
            if (currentSearchTerm) {
                const totalCount = filterAndSearchUsers().length;
                searchResultsInfo.textContent = `Found ${resultCount} user${resultCount !== 1 ? 's' : ''} matching "${currentSearchTerm}"`;
                searchResultsInfo.style.display = 'block';
            } else {
                searchResultsInfo.style.display = 'none';
            }
        }

        // Create user card element
        function createUserCard(user) {
            const card = document.createElement('div');
            card.className = 'user-card';
            
            const hasPhoto = user.bio_data && user.bio_data.facial_photo && user.bio_data.facial_photo.photo_data;
            const photoSrc = hasPhoto ? user.bio_data.facial_photo.photo_data : '';
            
            const fullName = `${user.personal_info.last_name} ${user.personal_info.first_name} ${user.personal_info.middle_name}`;
            const enterpriseType = user.bio_data ? user.bio_data.business_info.enterprise_type : 'Not specified';
            const status = user.application_status.status;
            const phoneNumber = user.personal_info.phone_number;
            const empowermentDate = user.empowerment_date ? 
                new Date(user.empowerment_date).toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                }) : 'Not empowered';
            
            // Create profile link
            const profileLink = `user-profile.html?id=${user.id}`;
            
            card.innerHTML = `
                <div class="card-header">
                    <div class="photo-container" onclick="navigateToProfile(${user.id})">
                        ${hasPhoto ? 
                            `<img src="${photoSrc}" alt="${fullName}" class="user-photo">` : 
                            `<div class="photo-placeholder">üë§</div>`
                        }
                    </div>
                </div>
                <div class="card-body">
                    <a href="${profileLink}" class="user-name" onclick="navigateToProfile(${user.id}); return false;">
                        ${fullName}
                    </a>
                    <div class="user-details">
                        <div class="user-enterprise">${enterpriseType}</div>
                        <div class="user-status status-${status}">
                            <span class="status-dot"></span>
                            ${formatStatus(status)}
                        </div>
                    </div>
                    <div class="user-contact">
                        <i>üì±</i> ${phoneNumber}
                    </div>
                    <div class="empowerment-date">
                        <strong>Empowered:</strong> ${empowermentDate}
                    </div>
                    <a href="${profileLink}" class="view-profile-btn" onclick="navigateToProfile(${user.id}); return false;">
                        View Full Profile ‚Üí
                    </a>
                </div>
            `;
            
            return card;
        }

        // Format status for display
        function formatStatus(status) {
            const statusMap = {
                'pending': 'Pending',
                'approved': 'Approved',
                'rejected': 'Rejected',
                'under_review': 'Under Review',
                'not_submitted': 'Not Submitted'
            };
            return statusMap[status] || status;
        }

        // Navigate to user profile
        function navigateToProfile(userId) {
            // In a real app, this would navigate to the user profile page
            // For this example, we'll show an alert and simulate navigation
            const user = sampleUsers.find(u => u.id === userId);
            if (user) {
                const fullName = `${user.personal_info.last_name} ${user.personal_info.first_name} ${user.personal_info.middle_name}`;
                alert(`Navigating to ${fullName}'s profile page\nUser ID: ${userId}`);
                
                // In a real application, you would use:
                // window.location.href = `user-profile.html?id=${userId}`;
            }
        }

        // Set up event listeners
        function setupEventListeners() {
            // Filter buttons
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');
                    // Update current filter
                    currentFilter = btn.getAttribute('data-filter');
                    // Re-render users
                    renderUsers();
                });
            });
            
            // Search input
            searchInput.addEventListener('input', (e) => {
                currentSearchTerm = e.target.value.trim();
                
                // Show/hide clear button
                if (currentSearchTerm) {
                    clearSearch.style.display = 'block';
                } else {
                    clearSearch.style.display = 'none';
                }
                
                // Re-render users with search term
                renderUsers();
            });
            
            // Clear search
            clearSearch.addEventListener('click', () => {
                searchInput.value = '';
                currentSearchTerm = '';
                clearSearch.style.display = 'none';
                renderUsers();
            });
            
            // Debounced search for better performance
            let searchTimeout;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    currentSearchTerm = e.target.value.trim();
                    renderUsers();
                }, 300);
            });
        }

        // Initialize the dashboard when the page loads
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>